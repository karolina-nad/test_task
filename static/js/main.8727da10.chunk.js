(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{15:function(t,e,n){},16:function(t,e,n){},18:function(t,e,n){"use strict";n.r(e);var i=n(1),s=n.n(i),a=n(4),r=n.n(a),c=(n(15),n(8)),l=n(3),o=n(5),d=n(6),p=n(10),u=n(9),m=(n(16),n(7)),h=n(0),b=function(t){var e=t.filterItems,n=t.selectId,i=t.editOnSubmit,s=t.title,a=t.description,r=t.editOnChangeTitle,c=t.editOnChangeDescription,l=(0,t.findSimilar)();return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("h3",{className:"app__title",children:["Title:"," ",e.map((function(t){return t.id===n?t.title:null}))]}),Object(h.jsxs)("p",{className:"app__item-p",children:["Description:"," ",e.map((function(t){return t.id===n?t.description:null}))]}),Object(h.jsxs)("p",{className:"app__item-p",children:["Data:"," ",e.map((function(t){return t.id===n?t.date:null}))]}),Object(h.jsxs)("form",{className:"app__form",onSubmit:i,children:[Object(h.jsx)("h3",{className:"app__title",children:"Edit announcement:"}),Object(h.jsx)("input",{name:"title",type:"text",placeholder:"Enter new title",className:"form-control input-sm app__input",value:s,onChange:r}),Object(h.jsx)("textarea",{name:"description",placeholder:"Enter new description",className:"form-control input-sm app__input",value:a,onChange:c}),Object(h.jsx)("button",{type:"submit",className:"btn btn-info app__button",children:"Save"})]}),Object(h.jsxs)("p",{className:"app__similar",children:["Similar announcements by title:"," ",0===l.length&&"Not found"]}),Object(h.jsx)("ul",{className:"list-group list-group-flush",children:l.map((function(t){return Object(h.jsxs)("li",{className:"list-group-item list-group-item-light app__list-item",children:["Title:"," ",t.title]},t.id)}))})]})},j=function(t){var e=t.addNewOnSubmit,n=t.titleNew,i=t.descriptionNew,s=t.titleError,a=t.descriptionError,r=t.addNewOnChangeTitle,c=t.addNewOnChangeDescription;return Object(h.jsxs)("div",{className:"app__add-new",children:[Object(h.jsx)("h3",{className:"app__title",children:"Add new announcement"}),Object(h.jsxs)("form",{className:"form-horizontal app__form",onSubmit:e,children:[Object(h.jsx)("input",{name:"title",type:"text",className:"form-control input-sm app__input",placeholder:"Enter title",value:n,onChange:r}),Object(h.jsx)("div",{className:"alert-danger app__error",children:s&&s}),Object(h.jsx)("textarea",{name:"description",className:"form-control input-sm app__input",placeholder:"Enter description",value:i,onChange:c}),Object(h.jsx)("div",{className:"alert-danger app__error",children:a&&a}),Object(h.jsx)("button",{type:"submit",className:"btn btn-info app__button",children:"Add announcement"})]})]})},O=function(t){var e=t.filterItems,n=t.selectOnClick,i=t.deleteOnClick;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h3",{className:"app__title",children:"List of announcements"}),Object(h.jsx)("ul",{className:"list-group list-group-flush",children:e.map((function(t){return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("li",{className:"list-group-item list-group-item-light app__list-item",children:[Object(h.jsx)("p",{className:"app__item-title",children:t.title}),Object(h.jsxs)("div",{className:"app__item-buttons btn-group",children:[Object(h.jsx)("button",{type:"button",className:"btn btn-info",onClick:function(){return n(t)},children:"Select"}),Object(h.jsx)("button",{type:"button",className:"btn btn-info",onClick:function(){return i(t)},children:"Delete"})]})]},t.id)})}))}),0===e.length&&"Not found"]})},f=function(t){Object(p.a)(n,t);var e=Object(u.a)(n);function n(){var t;Object(o.a)(this,n);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return(t=e.call.apply(e,[this].concat(s))).state={announcements:m,edit:!1,showList:!1,selectId:0,title:"",description:"",titleNew:"",descriptionNew:"",titleError:"",descriptionError:"",query:""},t.search=function(){return t.state.announcements.filter((function(e){return e.title.toLowerCase().includes(t.state.query.toLowerCase())}))},t.edit=function(e,n,i){t.setState((function(t){return{announcements:t.announcements.map((function(t){return t.id!==e?t:Object(l.a)(Object(l.a)({},t),{},{title:n.length>0?n:t.title,description:i.length>0?i:t.description})}))}}))},t.delete=function(e){t.setState((function(t){return{announcements:t.announcements.filter((function(t){return t.id!==e}))}}))},t.onSubmit=function(){t.state.titleNew||t.setState({titleError:"Please enter the title"}),t.state.descriptionNew||t.setState({descriptionError:"Please enter the description"}),t.state.titleNew&&t.state.descriptionNew&&t.setState((function(t){var e=t.announcements.length,n={id:t.announcements[e-1].id+1,title:t.titleNew,description:t.descriptionNew,date:(new Date).toLocaleString()};return{announcements:[].concat(Object(c.a)(t.announcements),[n]),titleNew:"",descriptionNew:"",titleError:"",descriptionError:""}}))},t.findSimilar=function(){var e=t.state.announcements.find((function(e){return e.id===t.state.selectId})),n=(null===e||void 0===e?void 0:e.title.toLowerCase().split(" "))||[],i=[];return t.state.announcements.map((function(e){if(e.id!==t.state.selectId)for(var s=0;s<(null===n||void 0===n?void 0:n.length);s+=1)e.title.toLowerCase().includes(n[s])&&i.push(e);return e})),i.slice(0,3)},t.editOnSubmit=function(e){e.preventDefault(),t.edit(t.state.selectId,t.state.title,t.state.description),t.setState({title:"",description:""})},t.editOnChangeTitle=function(e){var n=e.target.value;t.setState({title:n})},t.editOnChangeDescription=function(e){var n=e.target.value;t.setState({description:n})},t.addNewOnSubmit=function(e){e.preventDefault(),t.onSubmit()},t.addNewOnChangeTitle=function(e){t.setState({titleNew:e.target.value,titleError:""})},t.addNewOnChangeDescription=function(e){t.setState({descriptionNew:e.target.value,descriptionError:""})},t.selectOnClick=function(e){t.setState({edit:!0,selectId:e.id})},t.deleteOnClick=function(e){t.delete(e.id),t.setState({selectId:0})},t}return Object(d.a)(n,[{key:"render",value:function(){var t=this,e=this.search();return Object(h.jsxs)("div",{className:"app",children:[Object(h.jsxs)("div",{className:"app__first-block",children:[Object(h.jsx)("button",{type:"button",className:"btn btn-info app__show-button",onClick:function(){t.setState({showList:!0})},disabled:this.state.showList,children:"Show announcements"}),this.state.showList&&Object(h.jsx)("div",{children:Object(h.jsx)("input",{type:"text",className:"form-control input-sm app__search-input",placeholder:"Search by title",value:this.state.query,onChange:function(e){t.setState({query:e.target.value})}})}),this.state.showList&&Object(h.jsx)(O,{filterItems:e,selectOnClick:this.selectOnClick,deleteOnClick:this.deleteOnClick})]}),Object(h.jsxs)("div",{className:"app__second-block",children:[Object(h.jsx)(j,{addNewOnSubmit:this.addNewOnSubmit,titleNew:this.state.titleNew,descriptionNew:this.state.descriptionNew,titleError:this.state.titleError,descriptionError:this.state.descriptionError,addNewOnChangeTitle:this.addNewOnChangeTitle,addNewOnChangeDescription:this.addNewOnChangeDescription}),0!==this.state.selectId&&Object(h.jsx)("div",{className:"app__select",children:this.state.edit&&Object(h.jsx)(b,{filterItems:e,selectId:this.state.selectId,editOnSubmit:this.editOnSubmit,title:this.state.title,description:this.state.description,editOnChangeTitle:this.editOnChangeTitle,editOnChangeDescription:this.editOnChangeDescription,findSimilar:this.findSimilar})})]})]})}}]),n}(s.a.Component);r.a.render(Object(h.jsx)(f,{}),document.getElementById("root"))},7:function(t){t.exports=JSON.parse('[{"id":1,"title":"First announcement","description":"Something","date":"26.09.2021, 19:33:12"},{"id":2,"title":"Second announcement","description":"Some text","date":"26.09.2021, 19:40:12"},{"id":3,"title":"first","description":"qwerty","date":"26.09.2021, 19:45:12"}]')}},[[18,1,2]]]);
//# sourceMappingURL=main.8727da10.chunk.js.map